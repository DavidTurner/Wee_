(function(a){a.fn.nivoSlider=function(l){function m(b,d,c,g){var e=b.data("nivo:vars");if((!e||e.stop)&&!g)return false;c.beforeChange.call(this);if(g){g=="prev"&&b.css("background","url("+e.currentImage.attr("src")+") no-repeat");g=="next"&&b.css("background","url("+e.currentImage.attr("src")+") no-repeat")}else b.css("background","url("+e.currentImage.attr("src")+") no-repeat");e.currentSlide++;if(e.currentSlide==e.totalSlides){e.currentSlide=0;c.slideshowEnd.call(this)}if(e.currentSlide<0)e.currentSlide=
e.totalSlides-1;e.currentImage=a(d[e.currentSlide]).is("img")?a(d[e.currentSlide]):a(d[e.currentSlide]).find("img:first");if(c.controlNav){a(".nivo-controlNav a",b).removeClass("active");a(".nivo-controlNav a:eq("+e.currentSlide+")",b).addClass("active")}if(e.currentImage.attr("title")!=""){var k=e.currentImage.attr("title");if(k.substr(0,1)=="#")k=a(k).html();a(".nivo-caption",b).css("display")=="block"?a(".nivo-caption p",b).fadeOut(c.animSpeed,function(){a(this).html(k);a(this).fadeIn(c.animSpeed)}):
a(".nivo-caption p",b).html(k);a(".nivo-caption",b).fadeIn(c.animSpeed)}else a(".nivo-caption",b).fadeOut(c.animSpeed);var j=0;a(".nivo-slice",b).each(function(){var i=Math.round(b.width()/c.slices);a(this).css({height:"0px",opacity:"0",background:"url("+e.currentImage.attr("src")+") no-repeat -"+(i+j*i-i)+"px 0%"});j++});if(c.effect=="random"){d=Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade");e.randAnim=d[Math.floor(Math.random()*
(d.length+1))];if(e.randAnim==undefined)e.randAnim="fade"}if(c.effect.indexOf(",")!=-1){d=c.effect.split(",");e.randAnim=a.trim(d[Math.floor(Math.random()*d.length)])}e.running=true;if(c.effect=="sliceDown"||c.effect=="sliceDownRight"||e.randAnim=="sliceDownRight"||c.effect=="sliceDownLeft"||e.randAnim=="sliceDownLeft"){var h=0;j=0;d=a(".nivo-slice",b);if(c.effect=="sliceDownLeft"||e.randAnim=="sliceDownLeft")d=a(".nivo-slice",b)._reverse();d.each(function(){var i=a(this);i.css("top","0px");j==c.slices-
1?setTimeout(function(){i.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+h):setTimeout(function(){i.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+h);h+=50;j++})}else if(c.effect=="sliceUp"||c.effect=="sliceUpRight"||e.randAnim=="sliceUpRight"||c.effect=="sliceUpLeft"||e.randAnim=="sliceUpLeft"){j=h=0;d=a(".nivo-slice",b);if(c.effect=="sliceUpLeft"||e.randAnim=="sliceUpLeft")d=a(".nivo-slice",b)._reverse();d.each(function(){var i=a(this);
i.css("bottom","0px");j==c.slices-1?setTimeout(function(){i.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+h):setTimeout(function(){i.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+h);h+=50;j++})}else if(c.effect=="sliceUpDown"||c.effect=="sliceUpDownRight"||e.randAnim=="sliceUpDown"||c.effect=="sliceUpDownLeft"||e.randAnim=="sliceUpDownLeft"){var o=j=h=0;d=a(".nivo-slice",b);if(c.effect=="sliceUpDownLeft"||e.randAnim=="sliceUpDownLeft")d=
a(".nivo-slice",b)._reverse();d.each(function(){var i=a(this);if(j==0){i.css("top","0px");j++}else{i.css("bottom","0px");j=0}o==c.slices-1?setTimeout(function(){i.animate({height:"100%",opacity:"1.0"},c.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+h):setTimeout(function(){i.animate({height:"100%",opacity:"1.0"},c.animSpeed)},100+h);h+=50;o++})}else if(c.effect=="fold"||e.randAnim=="fold"){j=h=0;a(".nivo-slice",b).each(function(){var i=a(this),n=i.width();i.css({top:"0px",height:"100%",
width:"0px"});j==c.slices-1?setTimeout(function(){i.animate({width:n,opacity:"1.0"},c.animSpeed,"",function(){b.trigger("nivo:animFinished")})},100+h):setTimeout(function(){i.animate({width:n,opacity:"1.0"},c.animSpeed)},100+h);h+=50;j++})}else if(c.effect=="fade"||e.randAnim=="fade"){j=0;a(".nivo-slice",b).each(function(){a(this).css("height","100%");j==c.slices-1?a(this).animate({opacity:"1.0"},c.animSpeed*2,"",function(){b.trigger("nivo:animFinished")}):a(this).animate({opacity:"1.0"},c.animSpeed*
2);j++})}}var f=a.extend({},a.fn.nivoSlider.defaults,l);return this.each(function(){var b={currentSlide:0,currentImage:"",totalSlides:0,randAnim:"",running:false,paused:false,stop:false},d=a(this);d.data("nivo:vars",b);d.css("position","relative");d.addClass("nivoSlider");var c=d.children();c.each(function(){var h=a(this),o="";if(!h.is("img")){if(h.is("a")){h.addClass("nivo-imageLink");o=h}h=h.find("img:first")}var i=h.width();if(i==0)i=h.attr("width");var n=h.height();if(n==0)n=h.attr("height");
i>d.width()&&d.width(i);n>d.height()&&d.height(n);o!=""&&o.css("display","none");h.css("display","none");b.totalSlides++});if(f.startSlide>0){if(f.startSlide>=b.totalSlides)f.startSlide=b.totalSlides-1;b.currentSlide=f.startSlide}b.currentImage=a(c[b.currentSlide]).is("img")?a(c[b.currentSlide]):a(c[b.currentSlide]).find("img:first");a(c[b.currentSlide]).is("a")&&a(c[b.currentSlide]).css("display","block");d.css("background","url("+b.currentImage.attr("src")+") no-repeat");for(var g=0;g<f.slices;g++){var e=
Math.round(d.width()/f.slices);g==f.slices-1?d.append(a('<div class="nivo-slice"></div>').css({left:e*g+"px",width:d.width()-e*g+"px"})):d.append(a('<div class="nivo-slice"></div>').css({left:e*g+"px",width:e+"px"}))}d.append(a('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:f.captionOpacity}));if(b.currentImage.attr("title")!=""){g=b.currentImage.attr("title");if(g.substr(0,1)=="#")g=a(g).html();a(".nivo-caption p",d).html(g);a(".nivo-caption",d).fadeIn(f.animSpeed)}var k=
0;if(!f.manualAdvance&&c.length>1)k=setInterval(function(){m(d,c,f,false)},f.pauseTime);if(f.directionNav){d.append('<div class="nivo-directionNav"><a class="nivo-prevNav">Prev</a><a class="nivo-nextNav">Next</a></div>');if(f.directionNavHide){a(".nivo-directionNav",d).hide();d.hover(function(){a(".nivo-directionNav",d).show()},function(){a(".nivo-directionNav",d).hide()})}a("a.nivo-prevNav",d).live("click",function(){if(b.running)return false;clearInterval(k);k="";b.currentSlide-=2;m(d,c,f,"prev")});
a("a.nivo-nextNav",d).live("click",function(){if(b.running)return false;clearInterval(k);k="";m(d,c,f,"next")})}if(f.controlNav){e=a('<div class="nivo-controlNav"></div>');d.append(e);for(g=0;g<c.length;g++)if(f.controlNavThumbs){var j=c.eq(g);j.is("img")||(j=j.find("img:first"));f.controlNavThumbsFromRel?e.append('<a class="nivo-control" rel="'+g+'"><img src="'+j.attr("rel")+'" alt="" /></a>'):e.append('<a class="nivo-control" rel="'+g+'"><img src="'+j.attr("src").replace(f.controlNavThumbsSearch,
f.controlNavThumbsReplace)+'" alt="" /></a>')}else e.append('<a class="nivo-control" rel="'+g+'">'+(g+1)+"</a>");a(".nivo-controlNav a:eq("+b.currentSlide+")",d).addClass("active");a(".nivo-controlNav a",d).live("click",function(){if(b.running)return false;if(a(this).hasClass("active"))return false;clearInterval(k);k="";d.css("background","url("+b.currentImage.attr("src")+") no-repeat");b.currentSlide=a(this).attr("rel")-1;m(d,c,f,"control")})}f.keyboardNav&&a(window).keypress(function(h){if(h.keyCode==
"37"){if(b.running)return false;clearInterval(k);k="";b.currentSlide-=2;m(d,c,f,"prev")}if(h.keyCode=="39"){if(b.running)return false;clearInterval(k);k="";m(d,c,f,"next")}});f.pauseOnHover&&d.hover(function(){b.paused=true;clearInterval(k);k=""},function(){b.paused=false;if(k==""&&!f.manualAdvance)k=setInterval(function(){m(d,c,f,false)},f.pauseTime)});d.bind("nivo:animFinished",function(){b.running=false;a(c).each(function(){a(this).is("a")&&a(this).css("display","none")});a(c[b.currentSlide]).is("a")&&
a(c[b.currentSlide]).css("display","block");if(k==""&&!b.paused&&!f.manualAdvance)k=setInterval(function(){m(d,c,f,false)},f.pauseTime);f.afterChange.call(this)})})};a.fn.nivoSlider.defaults={effect:"random",slices:15,animSpeed:500,pauseTime:3E3,startSlide:0,directionNav:true,directionNavHide:true,controlNav:true,controlNavThumbs:false,controlNavThumbsFromRel:false,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:true,pauseOnHover:true,manualAdvance:false,captionOpacity:0.8,
beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){}};a.fn._reverse=[].reverse})(jQuery);
jQuery.beautyOfCode={settings:{autoLoad:true,baseUrl:"http://alexgorbatchev.com/pub/sh/2.1.364/",scripts:"scripts/",styles:"styles/",theme:"Default",brushes:["Xml","JScript","CSharp","Plain"],config:{},defaults:{},ready:function(){jQuery.beautyOfCode.beautifyAll()}},init:function(a){a=jQuery.extend({},jQuery.beautyOfCode.settings,a);if(!a.config.clipboardSwf)a.config.clipboardSwf=a.baseUrl+a.scripts+"clipboard.swf";$(document).ready(function(){if(a.autoLoad){jQuery.beautyOfCode.utils.loadCss(a.baseUrl+
a.styles+"shCore.css");jQuery.beautyOfCode.utils.loadCss(a.baseUrl+a.styles+"shTheme"+a.theme+".css","shTheme");var l=[];l.push(a.baseUrl+a.scripts+"shCore.js");jQuery.each(a.brushes,function(m,f){l.push(a.baseUrl+a.scripts+"shBrush"+f+".js")});jQuery.beautyOfCode.utils.loadAllScripts(l,function(){a&&a.config&&jQuery.extend(SyntaxHighlighter.config,a.config);a&&a.defaults&&jQuery.extend(SyntaxHighlighter.defaults,a.defaults);a.ready()})}else a.ready()})},beautifyAll:function(){jQuery("pre.code:has(code[class])").beautifyCode()},
utils:{loadScript:function(a,l){jQuery.ajax({url:a,complete:function(){l()},type:"GET",dataType:"script",cache:true})},loadAllScripts:function(a,l){!a||a.length==0?l():jQuery.beautyOfCode.utils.loadScript(a[0],function(){jQuery.beautyOfCode.utils.loadAllScripts(a.slice(1,a.length),l)})},loadCss:function(){},addCss:function(a,l){var m=jQuery("head")[0];if(a&&m){var f=document.createElement("style");f.setAttribute("type","text/css");if(l)f.id=l;if(f.styleSheet)f.styleSheet.cssText=a;else $(f).text(a);
m.appendChild(f)}},addCssForBrush:function(){},parseParams:function(a){var l=jQuery.map(a,jQuery.trim),m={},f=function(b,d){for(var c=RegExp("^"+b+"\\[([^\\]]+)\\]$","gi"),g=null,e=0;e<d.length;e++)if((g=c.exec(d[e]))!=null)return g[1];return null};a=function(b){var d=f("boc-"+b,l);if(d)m[b]=d};a("class-name");a("first-line");a("tab-size");if(a=f("boc-highlight",l))m.highlight=jQuery.map(a.split(","),jQuery.trim);a=function(b){if(jQuery.inArray("boc-"+b,l)!=-1)m[b]=true;else if(jQuery.inArray("boc-no-"+
b,l)!=-1)m[b]=false};a("smart-tabs");a("ruler");a("gutter");a("toolbar");a("collapse");a("auto-links");a("light");a("wrap-lines");a("html-script");return m}}};
jQuery.fn.beautifyCode=function(a,l){this.each(function(m,f){var b=jQuery(f),d=b.children("code"),c=d[0].className.split(" "),g=a?a:c[0];c=jQuery.beautyOfCode.utils.parseParams(c);c=jQuery.extend({},SyntaxHighlighter.defaults,l,c);if(c["html-script"]=="true")highlighter=new SyntaxHighlighter.HtmlScript(g);else if(g=SyntaxHighlighter.utils.findBrush(g))highlighter=new g;else return;if(b.is("pre")&&(d=b.children("code")))b.text(d.text());highlighter.highlight(b.html(),c);highlighter.source=f;b.replaceWith(highlighter.div)})};
$(window).load(function(){$(".gallery").nivoSlider({effect:"fade",directionNav:false,controlNavThumbsReplace:".jpg",pauseTime:5E3,controlNavThumbs:true});$("figure:not(.book)").each(function(){if($(this).has("img").length&&!$(this).has("video").length){imageWidth=$(this).find("img").width();figureWidth=$(this).width();imageWidth<figureWidth&&$(this).width(imageWidth)}})});
$.beautyOfCode.init({theme:"Django",brushes:["Xml","JScript","Plain","Php","Css"],ready:function(){$.beautyOfCode.beautifyAll("javascript",{gutter:false})}});
